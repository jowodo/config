#!/bin/bash 
# wraper script that keeps keepass storage up to date
#
DBNAME=".db.kdbx"
REMOTEDIR="tk:~"
LOCALDIR="$HOME/.password-store"

mkdir -p ${LOCALDIR}
scp ${REMOTEDIR}/${DBNAME} ${LOCALDIR}
if [[ $(uname) = 'Darwin' ]] ; then 
    open -a KeePassXC.app -W # ${LOCALDIR}/${DBNAME}
$KEEPASSBIN ${LOCALDIR}/${DBNAME}
elif [[ $(uname) = 'Linux' ]] ; then 
    keepassxc ${LOCALDIR}/${DBNAME}
fi
scp ${LOCALDIR}/${DBNAME} ${REMOTEDIR}

